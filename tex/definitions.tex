%===============================%
%=== Notes on using \xspace. ===%
%===============================%
% The TeXperts (by the way, if that's not what they're called then something's wrong!)
% recommend NOT using \xspace, since once there are some cases when an extra space will be added:

% \newcommand{\words}{words\xspace}
% (\words)    % Returns: (words)
% [\words]    % Returns: [words ]
% \{\words\}  % Returns: {words }

% The author(s) of xspace didn't included ] and \} in the list of exceptions.
% If you insist on using \xspace, then simply add this to the document preamble:
% \usepackage{xspace}
% \xspaceaddexceptions{]\}}

% So what do the TeXperts recommend instead?
% They say to add `{}` to the end of every macro call:

% \newcommand{\neat}{neat}
% Some \neat words        % Returns: Some neatwords
% Some \neat{} words      % Returns: Some neat words
% Some \neat{}{}{} words  % Returns: Some neat words

% The rule in TeX is simple: after a command name that uses letters, white space is ignored.

%=================================================%
%=== Difference between the kern and the skip. ===%
%=================================================%
% In LaTeX, `\,` (backslash comma) is a thin unbreakable space, also called a 'kern'.
% It has a width of 1/6em (quite literally 1/6th the width of the 'M' in whatever font).
% On the other hand, the `~` (tilde) is a normal unbreakable space, so a little bit wider, also called a 'skip'.
% A skip is the same width of the space between words (the interword space).
% Neither kerns nor skips will be broken across lines, but ~ may get stretched: `5~Kg` -> `5    Kg`.

% Some shorthand
% turn off italics
\newcommand {\etal}{\mbox{et al.}\xspace} %et al. - no preceding comma
\newcommand {\ie}{\mbox{i.e.}\xspace}     %i.e.
\newcommand {\eg}{\mbox{e.g.}\xspace}     %e.g.
\newcommand {\etc}{\mbox{etc.}\xspace}     %etc.
\newcommand {\vs}{\mbox{vs.}\xspace}      %vs.

% Units.
% Xunwu used `\,` (a kern) at the beginning of each unit.
% I removed them.
% Jake, consider getting rid of \mbox below!
\newcommand{\gram}{\ensuremath{\text{g}}\xspace}
\newcommand{\tesla}{\ensuremath{\text{T}}\xspace}
\newcommand{\nm}{\ensuremath{\text{nm}}\xspace}
\newcommand{\mum}{\ensuremath{\mu\text{m}}\xspace}
\newcommand{\micron}{\ensuremath{\mu\text{m}}\xspace}
\newcommand{\mm}{\ensuremath{\text{mm}}\xspace}
\newcommand{\cm}{\ensuremath{\text{cm}}\xspace}
\newcommand{\meter}{\ensuremath{\text{m}}\xspace}
\newcommand{\km}{\ensuremath{\text{Km}}\xspace}
\newcommand{\ns}{\ensuremath{\text{ns}}\xspace}
\newcommand{\mus}{\ensuremath{\mu\text{s}}\xspace}
\newcommand{\ms}{\ensuremath{\text{ms}}\xspace}
\newcommand{\snd}{\ensuremath{\text{s}}\xspace}
\newcommand{\TeV}{\ensuremath{\mbox{TeV}}\xspace}
\newcommand{\GeV}{\ensuremath{\mbox{GeV}}\xspace}
\newcommand{\MeV}{\ensuremath{\mbox{MeV}}\xspace}
\newcommand{\pb}{\ensuremath{\mbox{pb}}\xspace}
\newcommand{\fb}{\ensuremath{\mbox{fb}}\xspace}
\newcommand{\invfb}{\ensuremath{\mbox{fb}^{\scriptscriptstyle -1}}\xspace}
\newcommand{\lumi}{\ensuremath{\mathcal{L}}\xspace}

% analysis tools
\newcommand{\GEANTfour} {{\textsc{Geant4}}\xspace}
\newcommand{\HERWIGpp}{{\textsc{HERWIG++}}\xspace}
\newcommand{\HERWIGSeven}{{\textsc{HERWIG7}}\xspace}
\newcommand{\MADGRAPH} {\textsc{MadGraph}\xspace}
\newcommand{\MCATNLO} {\textsc{mc@nlo}\xspace}
\newcommand{\POWHEG} {{\textsc{powheg}}\xspace}
\newcommand{\PYTHIA} {{\textsc{pythia}}\xspace}
\newcommand{\SHERPA} {{\textsc{sherpa}}\xspace}
\newcommand{\MCFM} {{\textsc{mcfm}}\xspace}
\newcommand{\TOPpp} {{\textsc{TOP++}}\xspace}
\newcommand{\MGvATNLO} {\MADGRAPH{}5\_a\MCATNLO}
\newcommand{\FEWZ} {{\textsc{fewz}}\xspace}

% physics variables
\newcommand{\pt}{\ensuremath{p_{\mathrm{T}}}\xspace}
\newcommand{\ET}{\ensuremath{E_{\mathrm{T}}}\xspace}
\newcommand{\HT}{\ensuremath{H_{\mathrm{T}}}\xspace}
\newcommand{\MET}{\ensuremath{E_{\mathrm{T}}^{\text{miss}}}\xspace}
\newcommand{\MHT}{\ensuremath{H_{\mathrm{T}}^{\text{miss}}}\xspace}
\newcommand{\MT}{\ensuremath{M_{\mathrm{T}}}\xspace}
\newcommand{\abseta}{\ensuremath{\left| \eta \right|}\xspace}

% particles
\newcommand{\Pn}{\ensuremath{\mathrm{n}}}
\newcommand{\Pp}{\ensuremath{\mathrm{p}}}
\newcommand{\PV}{\ensuremath{\mathrm{V}}\xspace}
\newcommand{\PW}{\ensuremath{\mathrm{W}}\xspace}
\newcommand{\PZ}{\ensuremath{\mathrm{Z}}\xspace}
\newcommand{\PH}{\ensuremath{\mathrm{H}}\xspace}
\newcommand{\Pe}{\ensuremath{\mathrm{e}}\xspace}
\newcommand{\Pg}{\ensuremath{\mathrm{g}}\xspace}
\newcommand{\Pq}{\ensuremath{\mathrm{q}}\xspace}
\newcommand{\Paq}{\ensuremath{\overline{\Pq}}\xspace}
\newcommand{\Pqb}{\ensuremath{\mathrm{b}}\xspace}
\newcommand{\Paqb}{\ensuremath{\overline{\Pqb}}\xspace}
\newcommand{\Pqt}{\ensuremath{\mathrm{t}}\xspace}
\newcommand{\Paqt}{\ensuremath{\overline{\Pqt}}\xspace}
\newcommand{\PGn}{\ensuremath{\nu}\xspace} % generic neutrino
\newcommand{\PAGn}{\ensuremath{\overline{\nu}}\xspace} % generic neutrino

%=== Particle combos. ===%
\newcommand{\pp}{\ensuremath{\mathrm{pp}}\xspace}
\newcommand{\ee}{\ensuremath{\mathrm{e^+ e^-}}\xspace}
\newcommand{\fourell}{\ensuremath{4\ell}\xspace}
\providecommand{\ttH}{\ensuremath{\Pqt\Paqt\PH}\xspace}
\providecommand{\ggH}{\ensuremath{\Pg\Pg\PH}\xspace}
\providecommand{\qqH}{\mbox{VBF}\xspace}
\providecommand{\ZH}{\ensuremath{\PZ\PH}\xspace}
\providecommand{\WH}{\ensuremath{\PW\PH}\xspace}
\providecommand{\VH}{\ensuremath{\PV\PH}\xspace}
\providecommand{\bbH}{\ensuremath{\Pqb\Paqb\PH}\xspace}
\providecommand{\tHq}{\ensuremath{\Pqt\PH\Pq}\xspace}
\providecommand{\tHW}{\ensuremath{\Pqt\PH\PW}\xspace}
\providecommand{\qqZH}{\ensuremath{\Pq\Pq\PZ\PH}\xspace}
\providecommand{\ggZH}{\ensuremath{\Pg\Pg\PZ\PH}\xspace}
\providecommand{\DY}{\mbox{DY}\xspace}
\providecommand{\ttbar}{\ensuremath{\Pqt\Paqt}\xspace}
\providecommand{\ggZZ}{\ensuremath{\Pg\Pg\PZ\PZ}\xspace}
\providecommand{\WZ}{\ensuremath{\PW\PZ}\xspace}
\providecommand{\ZZ}{\ensuremath{\PZ\PZ}\xspace}
\providecommand{\VVV}{\ensuremath{\PV\PV\PV}\xspace}

\newcommand{\Vjets}{\ensuremath{\PV\text{+jets}}\xspace}
\newcommand{\Zee}{\ensuremath{\PZ(\Pe\Pe)}\xspace}
\newcommand{\Zll}{\ensuremath{\PZ(\ell\ell)}\xspace}
\newcommand{\Zvv}{\ensuremath{\PZ(\nu\overline{\nu})}\xspace}
\newcommand{\Zmmjets}{\ensuremath{\PZ(\mu\mu)\text{+jets}}\xspace}
\newcommand{\Zlljets}{\ensuremath{\PZ(\ell\ell)\text{+jets}}\xspace}
\newcommand{\Zjets}{\ensuremath{\PZ\text{+jets}}\xspace}
\newcommand{\DYjets}{\ensuremath{\PZ/\gamma^{*}\text{+jets}}\xspace}
\newcommand{\tZq}{\ensuremath{\Pqt\PZ\Pq}\xspace}
\newcommand{\tZW}{\ensuremath{\Pqt\PZ\PW}\xspace}

\newcommand{\kappaz}{\ensuremath{\kappa\smash[b]{^{\PGn\PAGn}}}\xspace}
\newcommand{\kappaV}{\ensuremath{\kappa_{\mathrm{V}}}\xspace}
\newcommand{\kappaF}{\ensuremath{\kappa_{\mathrm{F}}}\xspace}
\newcommand{\kappazi}{\ensuremath{\kappa_{i}\smash[b]{^{\PGn\PAGn}}}\xspace}

% Reactions/Processes.
\newcommand{\hmm}{\ensuremath{\PH \to \mu\mu}\xspace}
\newcommand{\zmm}{\ensuremath{\PZ \to \mu\mu}\xspace}
\newcommand{\hzzfourl}{\ensuremath{\PH \to \PZ\PZ \to 4\ell}\xspace}

%=== RedBkg ===%
\newcommand{\looselep}{\ensuremath{\ell_{\mathrm{L}}}\xspace}
\newcommand{\ZplusL}{\ensuremath{\PZ + \looselep}\xspace}
\newcommand{\ZplusX}{\ensuremath{\PZ + \mathrm{X}}\xspace}
\newcommand{\Zplusjets}{\ensuremath{\PZ + \text{jets}}\xspace}
\newcommand{\WZplusjets}{\ensuremath{\WZ + \text{jets}}\xspace}
\newcommand{\Zgammastar}{\ensuremath{\PZ/\gamma^*}\xspace}
\newcommand{\ttbarplusjets}{\ensuremath{\Pqt\Paqt + \text{jets}}\xspace}
\newcommand{\twoPtwoFexp}{\ensuremath{N_{\mathrm{2P2F}}}\xspace}
\newcommand{\threePoneFexp}{\ensuremath{N_{\mathrm{3P1F}}}\xspace}
\newcommand{\fourPexp}{\ensuremath{N_{\mathrm{4P}}^{\mathrm{RB}}}\xspace}
\newcommand{\threePoneFzz}{\ensuremath{N_{\mathrm{3P1F}}^{\ZZ}}\xspace}
\newcommand{\threePoneFzztilde}{\ensuremath{\tilde{N}_{\mathrm{3P1F}}^{\ZZ}}\xspace}
\newcommand{\threePoneFobs}{\ensuremath{N_{\mathrm{3P1F}}^{\mathrm{obs}}}\xspace}
\newcommand{\twoPtwoFobs}{\ensuremath{N_{\mathrm{2P2F}}^{\mathrm{obs}}}\xspace}
\newcommand{\effprpass}{\ensuremath{\epsilon^{\mathrm{pr}}_\mathrm{P}}\xspace}
\newcommand{\effprfail}{\ensuremath{\epsilon^{\mathrm{pr}}_\mathrm{F}}\xspace}
\newcommand{\effnppass}{\ensuremath{\epsilon^{\mathrm{np}}_\mathrm{P}}\xspace}
\newcommand{\effnpfail}{\ensuremath{\epsilon^{\mathrm{np}}_\mathrm{F}}\xspace}
\newcommand{\qqZZfourl}{\ensuremath{\mathrm{q\bar{q} \to ZZ \to 4\ell}}\xspace}
\newcommand{\ggZZfourl}{\ensuremath{\mathrm{gg \to ZZ \to 4\ell}}\xspace}
\newcommand{\qqggZZfourl}{\ensuremath{\mathrm{q\bar{q}/gg \to ZZ \to 4\ell}}\xspace}

\newcommand{\mmm}{\ensuremath{m_{\mu\mu}}\xspace}
\newcommand{\mll}{\ensuremath{m_{\ell\ell}}\xspace}
\newcommand{\mjj}{\ensuremath{m_{\mathrm{jj}}}\xspace}
\newcommand{\brhmm}{\ensuremath{{\mathcal{B}(\PH \to \mu\mu)}}\xspace}
\newcommand{\brhff}{\ensuremath{{\mathcal{B}(\PH \to f\overline{f})}}\xspace}
\newcommand{\detajj}{\ensuremath{\Delta\eta_{\mathrm{jj}}}\xspace}
\newcommand{\dphijj}{\ensuremath{\Delta\phi_{\mathrm{jj}}}\xspace}
\newcommand{\NNPDF} {\textsc{nnpdf}\xspace}
\newcommand{\dzeroPV}{\ensuremath{\text{d0}_{\text{PV}}}\xspace}
\newcommand{\dzeroBS}{\ensuremath{\text{d0}_{\text{BS}}}\xspace}
\newcommand{\dptoverptsquare}{\ensuremath{(\pt^{Roch} - \pt^{Gen})/\pt^2}\xspace}
\newcommand{\mh}{\ensuremath{m_{\PH}}\xspace}

\newcommand{\SoB}{\ensuremath{S/B}\xspace}

\newcommand{\RochCorr}{\textit{Rochester correction}\xspace}
\newcommand{\FSR}{\textit{FSR recovery}\xspace}
\newcommand{\GeoFit}{\textit{GeoFit correction}\xspace}